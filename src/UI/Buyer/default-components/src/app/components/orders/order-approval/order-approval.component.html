<div>
  <div *ngIf="!requestedConfirmation">
    <button class="btn btn-primary ml-2" (click)="openConfirmation(true)">Approve</button>
    <button class="btn btn-danger ml-2" (click)="openConfirmation(false)">Request Changes</button>
  </div>
  <div class="shadow-sm bg-white p-3" *ngIf="requestedConfirmation">
    <h5 class="border-bottom pb-3">Add Comments to Response</h5>
    <p class="font-italic">
      These comments will be viewable by the submitting user.
      <span *ngIf="!approved"
        >Provide details on changes you would like to see before this is submitted for approval again.</span
      >
    </p>
    <form novalidate [formGroup]="form">
      <textarea
        type="text"
        maxlength="2000"
        placeholder="Comments (optional)"
        formControlName="comments"
        class="form-control"
      >
      </textarea>
    </form>
    <div class="d-flex justify-content-end">
      <button class="ml-2 mt-3 btn btn-outline-primary" (click)="closeConfirmation()">Cancel</button>
      <button
        class="mt-3 ml-2 btn"
        (click)="submitReview()"
        [ngClass]="{ 'btn-primary': approved, 'btn-danger': !approved }"
      >
        {{ approved ? 'Approve' : 'Request Changes' }}
      </button>
    </div>
  </div>
</div>
