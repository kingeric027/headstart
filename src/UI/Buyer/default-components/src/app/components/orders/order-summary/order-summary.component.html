<div class="card mb-1"
     *ngIf="orderSummaryMeta">
  <h5 class="card-header"
      translate>ORDERS.SUMMARY.SUMMARY</h5>
  <div class="card-body">
    <h3 class="card-title">
      {{ orderSummaryMeta.StandardLineItemCount }}
      <span *ngIf="!orderSummaryMeta.POLineItemCount"
            translate>ORDERS.SUMMARY.ITEM_COUNT</span>
      <span *ngIf="orderSummaryMeta.POLineItemCount"
            translate>Item(s) paid by CC</span>
    </h3>
    <div class="text-right">
      <b class="float-left"
         translate>ORDERS.SUMMARY.SUBTOTAL</b><span class="sub-total">{{ orderSummaryMeta.CreditCardDisplaySubtotal | currency: _orderCurrency }}</span>
    </div>
    <div class="text-right">
      <b class="float-left"
         translate>ORDERS.SUMMARY.SHIPPING</b>
      <span *ngIf="!orderSummaryMeta.ShippingAndTaxOverrideText"
            class="shipping-cost">{{
        orderSummaryMeta.ShippingCost | currency: _orderCurrency
      }}</span>
      <span *ngIf="orderSummaryMeta.ShippingAndTaxOverrideText"
            class="shipping-cost">{{
        orderSummaryMeta.ShippingAndTaxOverrideText
      }}</span>
    </div>
    <div class="text-right">
      <b class="float-left"
         translate>ORDERS.SUMMARY.TAX</b>
      <span *ngIf="!orderSummaryMeta.ShippingAndTaxOverrideText"
            class="tax-cost">{{
        orderSummaryMeta.TaxCost | currency: _orderCurrency
      }}</span>
      <span *ngIf="orderSummaryMeta.ShippingAndTaxOverrideText"
            class="tax-cost">{{
        orderSummaryMeta.ShippingAndTaxOverrideText
      }}</span>
    </div>
    <ng-container *ngIf="currentPanel === 'payment'">
      <hr />
      <label for="PromoCode">Discount Code</label>
      <div class="input-group">
        <input type="text"
               class="form-control"
               placeholder="e.g. SPRING20"
               [value]="promoCode"
               (input)="updatePromoCodeValue($event)"
               id="PromoCode">
        <div class="input-group-append">
          <button class="btn btn-secondary"
                  (click)="applyPromo()">Apply</button>
        </div>
      </div>
      <hr />
    </ng-container>
    <ng-container *ngIf="_orderPromos?.length">
      <h4 class="mb-0">Applied Promotions</h4>
      <div *ngFor="let promo of _orderPromos">
        <div class="d-flex justify-content-between align-items-center">
          <p class="mb-0">{{promo.Code}}</p>
          <small (click)="removePromo(promo.Code)"
                 class="btn btn-link text-danger">Remove</small>
        </div>
        <small>{{promo.Description}}</small>
      </div>
    </ng-container>
    <div class="text-right lead">
      <b *ngIf="!orderSummaryMeta.POLineItemCount"
         class="float-left"
         translate>ORDERS.SUMMARY.TOTAL</b>
      <b *ngIf="orderSummaryMeta.POLineItemCount"
         class="float-left"
         translate>CC total</b>

      <span class="order-total">{{ orderSummaryMeta.CreditCardTotal | currency: _orderCurrency }}</span>
    </div>
  </div>

  <div *ngIf="orderSummaryMeta.POLineItemCount"
       class="card-body">
    <h3 class="card-title">
      {{ orderSummaryMeta.POLineItemCount }}
      <span translate>Item(s) paid by purchase order</span>
    </h3>
    <div class="text-right">
      <b class="float-left"
         translate>ORDERS.SUMMARY.SUBTOTAL</b><span class="sub-total">{{ orderSummaryMeta.POTotal | currency: _orderCurrency }}</span>
    </div>
    <div class="text-right">
      <b class="float-left"
         translate>ORDERS.SUMMARY.TAX</b>
      <span class="tax-cost"
            translate>ORDERS.SUMMARY.POTAXANDSHIPPINGOVERRIDE</span>
    </div>
    <div class="text-right">
      <b class="float-left"
         translate>ORDERS.SUMMARY.SHIPPING</b>
      <span class="tax-cost"
            translate>ORDERS.SUMMARY.POTAXANDSHIPPINGOVERRIDE</span>
    </div>
    <hr />
    <div class="text-right lead">
      <b class="float-left"
         translate>PO total</b><span class="order-total">{{ orderSummaryMeta.POTotal | currency: _orderCurrency }}</span>
    </div>
  </div>

  <div *ngIf="orderSummaryMeta.POLineItemCount"
       class="card-body">
    <div class="text-right lead">
      <b class="float-left"
         translate>Order total</b><span class="order-total">{{ orderSummaryMeta.OrderTotal | currency: _orderCurrency }}</span>
    </div>
  </div>
</div>