<!-- Supplier User Permissions -->
<div class="row pt-3 mt-3 bg-white shadow-sm supplier-user-permissions-alert">
  <div class="col-md-5">
    <h5>User Permissions</h5>
    <p class="font-italic">Select which permissions to grant this user. </p>
  </div>
  <div class="col-md-7">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Assigned</th>
          <th scope="col">Permission</th>
          <th scope="col">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr class="cursor-pointer"
            *ngFor="let group of supplierUserGroups"
            (click)="isCreatingNew ? addSupplierUserUserGroupAssignment(group) : toggleSupplierUserUserGroupAssignment(group)">
          <td class="d-flex justify-content-start align-items-center">
            <label class="switch mb-0">
              <input class="form-check-input"
                     type="checkbox"
                     (click)="isCreatingNew ? addSupplierUserUserGroupAssignment(group) : toggleSupplierUserUserGroupAssignment(group)"
                     [checked]="isAssigned(group)">
              <span class="slider round"></span>
            </label>
          </td>
          <td>{{group.Name}}</td>
          <td>{{group.Description}}</td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="!isCreatingNew"
         class="pb-3">
      <button [disabled]="!areChanges"
              class="btn btn-link"
              (click)="discardSupplierUserUserGroupAssignmentChanges()">{{areChanges ? 'Cancel' : 'No Changes'}}</button>
      <button *ngIf="areChanges && !requestedUserConfirmation"
              [disabled]="!areChanges || requestedUserConfirmation"
              class="btn brand-button"
              (click)="requestUserConfirmation()">{{requestedUserConfirmation ? 'Pending Confirmation' : 'Save Changes'}}</button>
      <button *ngIf="requestedUserConfirmation && areChanges"
              class="btn btn-primary"
              (click)="executeSupplierUserUserGroupAssignmentRequests()">Confirm</button>
      <div *ngIf="areChanges && requestedUserConfirmation"
           class="mt-3 pb-3 border-top">
        <div class="p-4 border-radius border-primary bg-light">
          <div class="d-flex justify-content-start align-items-center">
            <fa-icon [icon]="faExclamationCircle"
                     class="alert-icon mr-3"></fa-icon>
            <p class="mb-0 d-flex flex-column">
              <small class="font-weight-bold">This is a potentially destructive action that affects user permissions.</small>
              Please confirm that you wish to alter this user's permissions.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /Supplier User Permissions  -->