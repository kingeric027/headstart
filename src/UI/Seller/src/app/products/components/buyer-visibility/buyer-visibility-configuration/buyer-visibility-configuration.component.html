    <div class="row no-gutters align-items-center">
      <div class="col-sm">
        <h4 class="mb-0">
          {{_buyer.Name}} <span>
            <code class="text-medium">
              {{_buyer.ID}}
            </code>
          </span>
        </h4>
      </div>
      <div class="col-sm">
        <ng-container *ngIf="isFetching">
          <div class="d-flex align-items-center">
            <div aria-hidden="true"
                 class="spinner-grow spinner-grow-sm text-medium"
                 role="status">
            </div>
            <span class="text-muted font-italic ml-2">Fetching Visibility...</span>
          </div>
        </ng-container>
        <ng-container *ngIf="!isFetching">
          <ng-container *ngIf="catalogAssignmentsStatic.length > 0">
            <div class="d-flex align-items-center">
              <fa-icon [icon]="faEye"
                       class="text-success mr-2"
                       aria-hidden="true"></fa-icon>
              <span>Visible in {{catalogAssignmentsStatic.length}}/{{catalogs.length}} catalogs</span>
            </div>
          </ng-container>
          <ng-container *ngIf="catalogAssignmentsStatic.length === 0">
            <div class="d-flex align-items-center">
              <fa-icon [icon]="faEyeSlash"
                       class="text-danger mr-2"
                       aria-hidden="true"></fa-icon>
              <span> Not Visible</span>
            </div>
          </ng-container>
        </ng-container>
      </div>
      <div class="col-sm text-right">
        <ng-container *ngIf="!isEditing">
          <button type="button"
                  class="btn btn-primary"
                  (click)="edit()">Edit</button>
        </ng-container>
        <ng-container *ngIf="isEditing">
          <button class="btn btn-medium"
                  (click)="handleClose()">Close</button>
        </ng-container>
      </div>
    </div>
    <div *ngIf="isEditing">
      <p class="py-3 font-italic">
        Within this buyer configure the categories and catalogs in which the product will appear, and the price buyers will pay.
      </p>
      <h5>Catalogs</h5>
      <div class="card shadow-sm p-3 table-responsive"
           *ngIf="catalogs.length">
        <table class="table table-hover mb-0">
          <thead>
            <tr>
              <th class="border-0"
                  scope="col">Visible</th>
              <th class="border-0"
                  scope="col">Catalog</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let catalog of catalogs">
              <tr class="cursor-pointer"
                  (click)="toggleProductCatalogAssignment(catalog)">
                <td class="d-flex justify-content-start align-items-center">
                  <label class="switch mb-0">
                    <input class="form-check-input"
                           type="checkbox"
                           (click)="toggleProductCatalogAssignment(catalog)"
                           [checked]="isAssigned(catalog.ID)">
                    <span class="slider round"></span>
                  </label>
                </td>
                <td>{{catalog.Name}}</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
      <p *ngIf="!catalogs.length"
         class="alert alert-info font-weight-bold mb-0 p-3 shadow-sm">There are no catalogs for this buyer currently.</p>
      <product-category-assignment [productID]="_product.ID"
                                   [assignedCategoriesStatic]="assignedCategoriesEditable"
                                   [catalogID]="_buyer.ID"
                                   [isEditing]="isEditing"
                                   (assignmentsUpdated)="updateCategoryAssignments($event)"></product-category-assignment>
      <div class="mt-3 d-flex justify-content-end">
        <button class="btn btn-primary"
                type="submit"
                [disabled]="isValidBuyerAssignment || dataIsSaving || !areChanges"
                (click)="executeProductCatalogAssignmentRequests()">Save</button>
        <button *ngIf="areChanges"
                class="btn btn-link text-danger ml-3"
                (click)="handleDiscardChanges()">Discard Changes</button>
      </div>
    </div>