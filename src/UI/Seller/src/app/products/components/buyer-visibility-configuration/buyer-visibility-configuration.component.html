<div class="d-flex justify-content-between">
  <div class="container">
    <div class="row">
      <div class="col-sm">
        <h4>
          {{_buyer.Name}} <span>
            <code class="red">
              {{_buyer.ID}}
            </code>
          </span>
        </h4>    
      </div>
      <div class="col-sm">
        <ng-container>
          <span *ngIf="isAssignedStatic">
            <div class="active-circle"></div>
            Visible
          </span>
          <span *ngIf="!isAssignedStatic">
            <div class="inactive-circle"></div>
            Not Visible
          </span>
        </ng-container>
      </div>
      <div class="col-sm">
        <ng-container *ngIf="!isEditing">
          <button type="button" class="btn btn-primary" (click)="edit()">Edit</button>
        </ng-container>
      </div>
    </div>
    <div *ngIf="isEditing">
      <p class="font-italic">
        Within this buyer configure the category and catalogs in which the product will appear, and the price buyers will pay.
      </p>
      
      <h5>1) Determine if this Product Can Be Purchased by this Buyer</h5>
      <div class="form-group">
        <mat-slide-toggle [disabled]="readonly"
        aria-describedby="Active"
        [checked]="isAssignedEditable"
        (change)="updateIsAssigned($event)">
        Show Product to This Buyer
      </mat-slide-toggle>
    </div>
    <ng-container>

      <!-- todo -->
      <!-- <h5 *ngIf="isAssignedEditable">Category</h5> -->

      <h5 *ngIf="isAssignedEditable">2) Determine in which Catalog inside this Buyer the product will appear </h5>

      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Visible</th>
            <th scope="col">Catalog</th>
          </tr>
        </thead>
        <tbody>
          <tr class="cursor-pointer"
              *ngFor="let catalog of catalogs"
              (click)="toggleProductCatalogAssignment(catalog)">
            <td class="d-flex justify-content-start align-items-center">
              <label class="switch mb-0">
                <input class="form-check-input"
                       type="checkbox"
                       (click)="toggleProductCatalogAssignment(buyer)"
                       [checked]="isAssigned(buyer)">
                <span class="slider round"></span>
              </label>
            </td>
            <td>{{buyer.Name}}</td>
          </tr>
        </tbody>
      </table>

      <div class="d-flex justify-content-end">
        <button *ngIf="areChanges"
                class="btn btn-primary"
                type="submit"
                [disabled]="isValidBuyerAssignment || dataIsSaving"
                (click)="handleSave()">Save</button>
        <button class="btn brand-button ml-3"
                (click)="handleDiscardChanges()">Discard Changes</button>
      </div>
    </ng-container>
    </div>
  </div>
  <div>
  </div>
</div>