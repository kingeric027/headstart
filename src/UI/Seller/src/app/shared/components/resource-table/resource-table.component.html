<!-- 98pc calced height is placeholder for now: will need to change to make responsive or if the layout srtructure is changed -->

<div class="form-group resource-search">
  <search-component class="mr-3 w-100"
                    [placeholderText]="'Search Products...'"
                    [searchTermInput]="searchText"
                    (searched)="searchedResources($event)">
  </search-component>
</div>

<!-- full table view -->
<div *ngIf="!selectedResourceID">
  <perfect-scrollbar style="width: 100%; height: calc(100vh - 98px);"
                     (psYReachEnd)="handleScrollEnd()">
    <ng-content select="table"></ng-content>
  </perfect-scrollbar>
</div>

<!-- editing/creating view -->
<div *ngIf="selectedResourceID"
     class="row">
  <div class="col-3">
    <perfect-scrollbar style="width: 100%; height: calc(100vh - 98px);"
                       (psYReachEnd)="handleScrollEnd()">
      <table class="table table-hover resource-table">
        <thead>
          <tr>
            <th scope="
            col">Name</th>

          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let resource of resourceList.Items"
              (click)="handleSelectResource(resource)"
              class="selectable-row"
              [ngClass]="{'selected-resource': selectedResourceID === resource.ID}">
            <td>{{resource.Name}}</td>

          </tr>
          <tr>
            <td *ngIf="resourceList?.Meta?.Page < resourceList?.Meta?.TotalPages">More resources</td>
          </tr>
        </tbody>
      </table>
    </perfect-scrollbar>
  </div>
  <div class="col-9">
    <ng-content select=".resource-edit"></ng-content>
    <button (click)="handleSaveUpdates()"
            *ngIf="JSON.stringify(updatedResource) !== JSON.stringify(resourceInSelection)">Save Changes</button>
  </div>